var ias_pages=[];
(function(b){b.ias=function(m){function e(){var n;n=r.getCurrentScrollOffset(c.scrollContainer);d();if(g()>=c.triggerPageTreshold){a();var l=b("."+c.triggerClass);b("a",l).off("click").on("click",function(){b("."+c.triggerClass).remove();k(n);return!1})}else k(n)}function a(){c.scrollContainer.unbind("scroll",e)}function d(a){var l;l=b(c.container).find(c.item).last();if(0===l.size())return 0;l=l.offset().top+l.height();a||(l+=c.tresholdMargin);return l}function k(n,l){var d;d=b(c.next).attr("href");if(!d)return c.noneleft&&
b(c.container).find(c.item).last().after(c.noneleft),a();c.beforePageChange&&b.isFunction(c.beforePageChange)&&!1===c.beforePageChange(n,d)||(q.pushPages(n,d),a(),u(),f(d,function(f,h){var g;!1!==c.onLoadItems.call(this,h)&&(b(h).hide(),g=b(c.container).find(c.item).last(),g.after(h),b(h).fadeIn());d=b(c.next,f).attr("href");c.paginationWrapper?b(c.paginationWrapper).prepend(b("."+c.triggerClass,f)):b(c.container).after(b("."+c.triggerClass,f));b("a",b("."+c.triggerClass)).off("click").on("click",
	function(){b("."+c.triggerClass).remove();k(n);return!1});b(c.pagination).replaceWith(b(c.pagination,f));t().remove();d?e():a();c.onRenderComplete.call(this,h);l&&l.call(this)}))}function f(a,d,f){var e=[],h,k=Date.now(),g,m;f=f||c.loaderDelay;b.get(a,null,function(a){h=b(c.container,a).eq(0);0===h.length&&(h=b(a).filter(c.container).eq(0));h&&h.find(c.item).each(function(){e.push(this)});d&&(m=this,g=Date.now()-k,g<f?setTimeout(function(){d.call(m,a,e)},f-g):d.call(m,a,e))},"html")}function h(c){var f=
	d(!0);0<f&&k(f,function(){a();q.getCurPageNum(f)+1<c?(h(c),b("html,body").animate({scrollTop:f},400,"swing")):(b("html,body").animate({scrollTop:f},1E3,"swing"),e())})}function g(){var b=r.getCurrentScrollOffset(c.scrollContainer);return q.getCurPageNum(b)}function t(){var a=b(".ias_loader");0===a.size()&&(a=b('<div class="ias_loader">'+c.loader+"</div>"),a.hide());return a}function u(){var a=t();!1!==c.customLoaderProc?c.customLoaderProc(a):(b(c.pagination).before(a),a.fadeIn())}var c=b.extend({},
	b.ias.defaults,m),r=new b.ias.util,q=new b.ias.paging(c.scrollContainer),p=c.history?new b.ias.history:!1,v=this;(function(){if(!b(c.next).length)return!1;var f;q.onChangePage(function(a,b,d){p&&p.setPage(a,d);c.onPageChange.call(this,a,d,b)});e();p&&p.havePage()&&(a(),f=p.getPage(),r.forceScrollTop(function(){var a;1<f?(h(f),a=d(!0),b("html, body").scrollTop(a)):e()}));return v})()};b.ias.defaults={container:"#container",scrollContainer:b(window),item:".item",pagination:"#pagination",paginationWrapper:!1,
	next:".next",noneleft:!1,loader:'<img src="images/loader.gif"/>',loaderDelay:600,triggerPageTreshold:3,trigger:"Load more items",triggerWrapper:!0,triggerSelector:"",triggerClass:"ias_trigger",tresholdMargin:0,history:!0,onPageChange:function(){},beforePageChange:function(){},onLoadItems:function(){},onRenderComplete:function(){},customLoaderProc:!1};b.ias.util=function(){var m=!1,e=!1,a=this;(function(){b(window).load(function(){m=!0})})();this.forceScrollTop=function(d){b("html,body").scrollTop(0);
	e||(m?(d.call(),e=!0):setTimeout(function(){a.forceScrollTop(d)},1))};this.getCurrentScrollOffset=function(a){var b;b=a.get(0)===window?a.scrollTop():a.offset().top;a=a.height();return b+a}};b.ias.paging=function(){function m(a){for(var b=e.length-1;0<b;b--)if(a>e[b][0])return b+1;return 1}var e=[[0,document.location.toString()]],a=function(){},d=1,k=new b.ias.util;(function(){var f,h,g;f=k.getCurrentScrollOffset(b(window));h=m(f);a:{for(g=e.length-1;0<=g;g--)if(f>e[g][0]){g=e[g];break a}g=null}d!==
h&&(f=g[0],g=g[1],a.call({},h,f,g));d=h})();this.getCurPageNum=function(a){a=a||k.getCurrentScrollOffset(b(window));return m(a)};this.onChangePage=function(b){a=b};this.pushPages=function(a,b){e.push([a,b])}};b.ias.history=function(){var b=!1,e=!1,e=!!(window.history&&history.pushState&&history.replaceState),e=!1;this.setPage=function(a,b){this.updateState({page:a},"",b)};this.havePage=function(){return!1!==this.getState()};this.getPage=function(){var a;return this.havePage()?(a=this.getState(),a.page):
	1};this.getState=function(){var a;if(e){if((a=history.state)&&a.ias)return a.ias}else if(a="#/page/"===window.location.hash.substring(0,7))return a=parseInt(window.location.hash.replace("#/page/",""),10),{page:a};return!1};this.updateState=function(a,d,e){b?this.replaceState(a,d,e):this.pushState(a,d,e)};this.pushState=function(a,d,k){e?history.pushState({ias:a},d,k):(a=0<a.page?"#/page/"+a.page:"",window.location.hash=a);b=!0};this.replaceState=function(a,b,k){e?history.replaceState({ias:a},b,k):
	this.pushState(a,b,k)}}})(jQuery);